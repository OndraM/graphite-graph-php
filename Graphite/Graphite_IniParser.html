<html>
<head>
<title>Docs For Class Graphite_IniParser</title>
<link rel="stylesheet" type="text/css" href="../media/style.css">
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
    <td class="header_top">Graphite</td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td class="header_menu">
        
                                    
                              		  [ <a href="../classtrees_Graphite.html" class="menu">class tree: Graphite</a> ]
		  [ <a href="../elementindex_Graphite.html" class="menu">index: Graphite</a> ]
		  	    [ <a href="../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td class="header_line"><img src="../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="200" class="menu">
      <b>Packages:</b><br />
              <a href="../li_Graphite.html">Graphite</a><br />
            <br /><br />
		<b>Tutorials/Manuals:</b><br />
					<strong>Package-level:</strong>
							<ul>
	<li type="square"><a href="../Graphite/tutorial_Graphite.pkg.html">Graphite_GraphBuilder</a>
</ul>

									                        <b>Files:</b><br />
      	  <div class="package">
			<a href="../Graphite/_src---autoload.php.html">		autoload.php
		</a><br>
			<a href="../Graphite/_src---Graphite---ConfigurationException.php.html">		ConfigurationException.php
		</a><br>
			<a href="../Graphite/_src---Graphite---GraphBuilder.php.html">		GraphBuilder.php
		</a><br>
			<a href="../Graphite/_src---Graphite---IniParser.php.html">		IniParser.php
		</a><br>
			<a href="../Graphite/_src---Graphite---TargetBuilder.php.html">		TargetBuilder.php
		</a><br>
	  </div><br />
      
      
            <b>Classes:</b><br />
        <div class="package">
		    		<a href="../Graphite/Graphite_ConfigurationException.html">Graphite_ConfigurationException</a><br />
	    		<a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a><br />
	    		<a href="../Graphite/Graphite_IniParser.html">Graphite_IniParser</a><br />
	    		<a href="../Graphite/Graphite_TargetBuilder.html">Graphite_TargetBuilder</a><br />
	  </div>
                </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<h1>Class: Graphite_IniParser</h1>
Source Location: /src/Graphite/IniParser.php<br /><br />


<table width="100%" border="0">
<tr><td valign="top">

<h3><a href="#class_details">Class Overview</a></h3>
<pre></pre><br />
<div class="description">Ini file parser.</div><br /><br />
<h4>Author(s):</h4>
<ul>
          <li>Bryan Davis &lt;<a href="mailto:bd808@bd808.com">bd808@bd808.com</a>&gt;</li>
                              </ul>




          
              

<h4>Copyright:</h4>
<ul>
  <li>2012 Bryan Davis and contributors. All Rights Reserved.</li>
</ul>
        
</td>


<td valign="top">
<h3><a href="#class_consts">Constants</a></h3>
<ul>
    <li><a href="../Graphite/Graphite_IniParser.html#constRE_PARSE">RE_PARSE</a></li>
  </ul>
</td>

<td valign="top">
<h3><a href="#class_methods">Methods</a></h3>
<ul>
    <li><a href="../Graphite/Graphite_IniParser.html#methodparse">parse</a></li>
    <li><a href="../Graphite/Graphite_IniParser.html#methodsubstitute">substitute</a></li>
  </ul>
</td>

</tr></table>
<hr />

<table width="100%" border="0"><tr>






</tr></table>
<hr />

<a name="class_details"></a>
<h3>Class Details</h3>
<div class="tags">
[line <a href="../__filesource/fsource_Graphite__srcGraphiteIniParser.php.html#a65">65</a>]<br />
Ini file parser.<br /><br /><p>Utility class which performs Mustache-like template expansion on a file  before parsing it into a PHP array structure.</p><p>Tokens in the ini file are strings that start with `{{` and end wtih `}}`.  The exact text inside the delimiters becomes the token. These tokens can  be replaced with alternate content by passing an array of replacement  values to Graphite_IniParser::parse(). The array should use the exact token  text as the key and the replacement value as the value for each substition  to be made. Any tokens which do not appear as keys in the replacement  variables array will be used verbatium in the output. This allows using a  default value as the token itself.</p><p>PHP's parse_ini_string()/parse_ini_file() functions are used to parse the  ini file. There are several things to be aware of as a result of this. <ul><li>Semicolons (;) should be used for comments.</li><li>Unquoted numerics are parsed as php integers thus numbers starting by 0
   are evaluated as octals and numbers starting by 0x are evaluated as
   hexadecimals.</li><li>If a value in the ini file contains any non-alphanumeric characters it
   needs to be enclosed in double-quotes (&quot;).</li><li>Values enclosed in double quotes can contain new lines.</li><li>Values not enclosed in double quotes are subject to constant expansion.
   This means that values matching the names of constants defined at the time
   the ini file is parsed will be replaced with the value of the constant.</li><li>There are reserved words which must not be used as keys for ini files.
   These include: null, yes, no, true, false, on, off, none. Values null, no
   and false results in &quot;&quot;, yes and true results in &quot;1&quot;. Characters
   ?{}|&amp;~![()^&quot; must not be used anywhere in the key and have a special
   meaning in the value.</li></ul>  Example:  <ol><li><div class="src-line">&nbsp;<span class="src-sym">;&nbsp;</span><span class="src-id">example&nbsp;ini&nbsp;</span><a href="http://www.php.net/file">file</a></div></li>
<li><div class="src-line">&nbsp;<span class="src-sym">[</span><span class="src-id">section</span><span class="src-sym">]</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">key1&nbsp;</span>=&nbsp;<span class="src-str">&quot;{{TOKEN1}}&quot;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-id">key2&nbsp;</span>=&nbsp;<span class="src-str">&quot;{{TOKEN2}}&quot;</span></div></li>
</ol></p><p><ol><li><div class="src-line">&nbsp;<span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$ini&nbsp;</span>=&nbsp;<span class="src-id"><a href="../Graphite/Graphite_IniParser.html">Graphite_IniParser</a></span><span class="src-sym">::</span><a href="../Graphite/Graphite_IniParser.html#methodparse">parse</a><span class="src-sym">(</span><span class="src-str">'/path/to/file.ini'</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'TOKEN1'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'replacement&nbsp;1'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'TOKEN2'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'replacement&nbsp;2'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;<span class="src-sym">))</span><span class="src-sym">;</span></div></li>
</ol></p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>author:</b>&nbsp;&nbsp;</td><td>Bryan Davis &lt;<a href="mailto:bd808@bd808.com">bd808@bd808.com</a>&gt;</td>
  </tr>
  <tr>
    <td><b>copyright:</b>&nbsp;&nbsp;</td><td>2012 Bryan Davis and contributors. All Rights Reserved.</td>
  </tr>
  <tr>
    <td><b>see:</b>&nbsp;&nbsp;</td><td><a href="http://www.php.net/parse_ini_string">parse_ini_string</a></td>
  </tr>
  <tr>
    <td><b>see:</b>&nbsp;&nbsp;</td><td><a href="http://www.php.net/parse_ini_file">parse_ini_file</a></td>
  </tr>
  <tr>
    <td><b>license:</b>&nbsp;&nbsp;</td><td><a href="http://www.opensource.org/licenses/BSD-2-Clause">Simplified BSD License</a></td>
  </tr>
</table>
</div>
</div><br /><br />
<div class="top">[ <a href="#top">Top</a> ]</div><br />


<hr />
<a name="class_methods"></a>
<h3>Class Methods</h3>
<div class="tags">
  <hr />
	<a name="methodparse"></a>
	<h3>static method parse <span class="smalllinenumber">[line <a href="../__filesource/fsource_Graphite__srcGraphiteIniParser.php.html#a162">162</a>]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>static array parse(
string
$file, [array
$vars = null])</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Parse an ini file and return an array of it's contents.<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Parsed ini data</td>
  </tr>
  <tr>
    <td><b>access:</b>&nbsp;&nbsp;</td><td>public</td>
  </tr>
</table>
</div>
<br /><br />

	
        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$file</b>&nbsp;&nbsp;</td>
        <td>Path to ini file</td>
      </tr>
          <tr>
        <td class="type">array&nbsp;&nbsp;</td>
        <td><b>$vars</b>&nbsp;&nbsp;</td>
        <td>Variable values to substiute in the file</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>

  <hr />
	<a name="methodsubstitute"></a>
	<h3>method substitute <span class="smalllinenumber">[line <a href="../__filesource/fsource_Graphite__srcGraphiteIniParser.php.html#a138">138</a>]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string substitute(
array
$match)</code>
    </td></tr></table>
    </td></tr></table><br />
	
		Substitute a match with data found in our variables.<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>Variable value or original key if no match found</td>
  </tr>
  <tr>
    <td><b>access:</b>&nbsp;&nbsp;</td><td>public</td>
  </tr>
</table>
</div>
<br /><br />

	
        <h4>Parameters:</h4>
    <div class="tags">
    <table border="0" cellspacing="0" cellpadding="0">
          <tr>
        <td class="type">array&nbsp;&nbsp;</td>
        <td><b>$match</b>&nbsp;&nbsp;</td>
        <td>Regex matches</td>
      </tr>
        </table>
    </div><br />
        <div class="top">[ <a href="#top">Top</a> ]</div>
  </div>
</div><br />

<hr />
<a name="class_consts"></a>
<h3>Class Constants</h3>
<div class="tags">
	<a name="constRE_PARSE"></a>
	<p></p>
	<h4>RE_PARSE = <span class="value">&nbsp;'/<br>
&nbsp;&nbsp;&nbsp;&nbsp;\\\\{{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;backslash&nbsp;escaped&nbsp;start&nbsp;marker<br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;OR<br>
&nbsp;&nbsp;&nbsp;&nbsp;\\\\}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;backslash&nbsp;escaped&nbsp;end&nbsp;marker<br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;OR<br>
&nbsp;&nbsp;&nbsp;&nbsp;(?&lt;!\\\\)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;not&nbsp;after&nbsp;a&nbsp;backslash<br>
&nbsp;&nbsp;&nbsp;&nbsp;{{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;token&nbsp;start&nbsp;marker<br>
&nbsp;&nbsp;&nbsp;&nbsp;(?P&lt;label&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;start&nbsp;capture&nbsp;&quot;label&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[^{]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;first&nbsp;char&nbsp;of&nbsp;token&nbsp;is&nbsp;anything&nbsp;but&nbsp;a&nbsp;brace<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.*?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;non-greedy&nbsp;match&nbsp;of&nbsp;anything<br>
&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;end&nbsp;capture&nbsp;&quot;label&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;(?&lt;!\\\\)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;not&nbsp;after&nbsp;a&nbsp;backslash<br>
&nbsp;&nbsp;&nbsp;&nbsp;}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;token&nbsp;end&nbsp;marker<br>
&nbsp;&nbsp;&nbsp;&nbsp;/sxS'</span></h4>
	<p>[line <a href="../__filesource/fsource_Graphite__srcGraphiteIniParser.php.html#a71">71</a>]</p>
  Regular expression used to find substituion tokens in the ini file.<br /><br />
  <br />
	<div class="top">[ <a href="#top">Top</a> ]</div><br />
</div><br />

        <div class="credit">
		    <hr />
		    Documentation generated on Sun, 18 Mar 2012 18:39:25 -0600 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>